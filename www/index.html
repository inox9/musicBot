<!DOCTYPE html>
<html ng-app='App'>
<head>
	<title>Music Releases Crawler v0.15 Queue</title>
	<meta http-equiv='Content-type' content='text/html; charset=utf8'/>
	<link href='//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css' rel='stylesheet'/>
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.19/angular.min.js"></script>
	<script src='//code.jquery.com/jquery-2.1.1.min.js'></script>
	<script type='text/javascript'>$.noConflict();</script>
	<script src='/media/app.js'></script>
	<style type='text/css'>
	#input { width: 500px; }
	body, h1, h3 { font-family: "Lucida Grande", "Helvetica Neue", Helvetica, sans-serif; }
	.mid { vertical-align: middle !important; }
	</style>
</head>
<body>
	<div class='container' ng-controller='releasesCtrl'>
		<div class="page-header">
			<h1>Music Releases Crawler v0.15 <small>scenelog crawler &amp; downloader</small></h1>
		</div>
		<h3 class='text-center'>Добавить ожидаемый релиз</h3>
		<form class='form-inline text-center' role='form' name='frm' ng-submit='add()' novalidate>
			<div class='form-group'>
				<input class="form-control input-lg" type="text" placeholder="введите ключевые слова..." id='input' name='keywords' ng-model='formData.keywords' ng-minlength='5' ng-required='true'>
			</div>
			<div class='form-group'>
				<button type="submit" class="btn btn-primary btn-lg" id='add' ng-disabled="frm.$invalid"><span class="glyphicon glyphicon-plus"></span> Добавить</button>
			</div>
		</form>
		<h3 class='text-center'>Ожидаемые релизы</h3>
		<table class='table table-condensed table-hover' id='releases'>
			<tr ng-repeat='rel in releases' ng-class='rowClass(rel)'>
				<td>{{$index+1}}.</td>
				<td>{{rel.dateAdded}}</td>
				<td class='mid'><a href='http://predb.me/?cats=music&amp;search={{rel.keywords}}' target='_blank'>{{rel.keywords}}</a></td>
				<td class='mid' ng-if='processName(rel)'><a href='{{processName(rel)}}' target='_blank'>{{rel.releaseName}}</a></td>
				<td class='mid' ng-if='!processName(rel)'>N/A</td>
				<td class='mid'>{{processField(rel.releaseDate)}}</td>
				<td class='mid'><button ng-if='rel.state == 0 || rel.state == 1' type="button" class="btn btn-danger btn-xs" ng-click='remove(rel.id)'><span class="glyphicon glyphicon-trash"></span></button></td>
			</tr>
		</table>
	</div>
</body>
</html>


